<!-- Contact Form -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <title>Submit HTTP Form</title>
    <script>
        // jQuery
        $(document).ready(function () {
            // $('#contactform').submit(function () { //control1
            //     if($('#firstname').val()=== ''){
            //         alert('Must provide first name');
            //         alert(event.target.value);
            //         event.preventDefault(); //this controls the submit action and it will wait until the form has valid content
            //     }  
            // });
            // $('#clearFirstName').click(function (event) { //control2
            //     $('#firstname').val('');
            // });
            console.log('test functions');
            
            $('#errorFirst').hide();
            $('#errorLast').hide();
            $('#errorDate').hide();
            $('#errorEmail').hide();
            $('#errorPhone').hide();
            $('#nonNumber').hide();
            
            let errorFirst = false;
            let errorLast = false;
            let errorDate = false;
            let errorEmail = false;
            let errorPhone = false;
            let nonNumber = false;

            $('#firstname').focusout(()=>{
             check_firstname(); //call the function
             console.log('test functions');
            })
            $('#lastname').focusout(() => {
                check_lastname();
                console.log('test functions');
            })
            $('#date').focusout(() => {
                check_date();
                console.log('test functions');
            })
            $('#email').focusout(() => {
                check_email();
                console.log('test functions');
            })
            $('#phone').focusout(() => {
                check_phone();
                console.log('test functions');
            })

         function check_firstname(){ 
           if($('#firstname').val().length < 1 || $('#firstname').val().length > 20) {
               $('#errorFirst').html('Invalid first name');
               $('#errorFirst').show();
               errorFirst = true;
             }else{
                 $('#errorFirst').hide();
             }
         }
         function check_lastname(){
           if($('#lastname').val().length < 1 || $('#lastname').val().length > 20){
               $('#errorLast').html('Invalid last name');
               $('#errorLast').show();
               errorLast = true;
             }else{
               $('#errorLast').hide();  
             }
         }
         function check_date() {
            if($('#date').val().length < 1 || $('#date').val().length > 20) {
                $('#errorDate').html('Pick a date, please');
                $('#errorDate').show();
                errorDate = true;
            }else{
                $('errorDate').hide();
            }
         }
         function check_email() {
            if($('#email').val().length < 1 || $('#email').val().length > 20) {
                $('#errorEmail').html('Invalid email');
                $('#errorEmail').show();
                errorEmail = true;
            }else{
                $('errorEmail').hide();
            }
         }
         function check_phone() {
            if($('#phone').val().length < 1 || $('#phone').val().length > 15){
               $('#errorPhone').html('Phone must between 1 - 15 numbers');
               $('#errorPhone').show();
               errorPhone = true;
            }else{
               $('#errorPhone').hide();
            }
            if(isNaN($('#phone').val())){
               $('#nonNumber').html('Please enter numbers');
               $('#nonNumber').show();
               nonNumber = true;
            }else{
               $('#nonNumber').hide(); 
            }
               
         }
        }) //jQuery ends
    </script>
</head>
<body>
    <div class="container-fluid">
        <h1>Form example</h1>
        <h3>HTTP and Forms with JQuery</h3>
        <!-- <form action="http://httpbin.org/post" method="POST" id="contactform">return json file -->
        <form action="submitted.html" method="POST" id="contactform"> <!-- return Thank you page -->
        <div class="form-group">
            <table>
                <tr>
                  <td>First Name:</td> 
                  <td><input type="text" name="first_name" id="firstname" required></td>
                  <td><span id="errorFirst"></span></td>
                </tr> 
                <tr>
                <td>Last Name:</td>
                <td><input type="text" name="last_name" id="lastname" required></td>
                <td><span id="errorLast"></span></td>
                </tr>
                <tr>
                  <td>Date of Birth:</td>
                  <td><input type="date" id="date" required></td>
                  <td><span id="errorDate"></span></td>
                </tr>
                <tr>
                  <td>Full Address:</td>
                  <td><input type="text" name="address" id="address" required></td>
                </tr>
                  <td>Email:</td>
                  <td><input type="email" name="email" id="email" required></td>
                  <td><span id="errorEmail"></span></td>
                <tr>
                  <td>Phone:</td>
                  <td><input type="tel" name="phone" id="phone" maxlength="16" required></td>
                  <td><span id="errorPhone"></span></td>
                  <td><span id="nonNumber"></span></td>
                </tr>
                <tr>
                  <td>Message:</td>
                  <td><textarea type='text' name="message" id="message" cols="70" rows="5" placeholder="Please leave your message..."></textarea></td>
                </tr>  
                <tr>
                  <td>Favourite Colour:</td>
                  <td>Red: <input type="radio" name="favourite_colour" value="red"></td>
                  <td>Green: <input type="radio" name="favourite_colour" value="green"></td>
                  <td>Blue: <input type="radio" name="favourite_colour" value="blue"></td>
                </tr> 
                <tr>
                  <td><button id="clearFirstName">Clear</button><button type="submit">Submit</button></td>
                </tr>
            </table>    
    </div>
    </form>
    </div>
    
</body>
</html>